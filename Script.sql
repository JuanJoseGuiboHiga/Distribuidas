CREATE TABLE RECLAMO(
	CODIGO int NOT NULL AUTO_INCREMENT UNIQUE,
	FECHA_REGISTRO DATETIME NULL,
	FECHA_FIN datetime NULL,
	CLIENTE varchar(10) NULL,
	OBSERVACION VARCHAR(255) NULL, 
	ESTADO varchar(10) NULL, 
	AREAREC varchar(10) NULL 
)

	
CREATE TABLE RECLAMO_DETALLE(
	CODIGO int NOT NULL,
	ITEM int NULL, 
	TIPDOC_ORIGEN varchar(2) NULL, 
	SERIE_ORIGEN int NULL, 
	NUMERO_ORIGEN int NULL, 
	MONEDA_ORIGEN varchar(10) NULL, 
	MONTO_ORIGEN numeric(15,2) NULL, 
	MONTO_DEV numeric(15,2) NULL, 
	FLG_REFAC CHAR(1) NULL, 
	AREA_RES VARCHAR(15) NULL, 
	ESTADO varchar(10) NULL
)

CREATE TABLE RECLAMO_DETALLE_FACT (
	CODIGO int NOT NULL,
	ITEM int NULL,
	DOC_ITEM int NULL, 
	NUEVO_TIPDOC varchar(2) NULL,
	NUEVO_SERIE int NULL, 
	NUEVO_NUMERO int NULL, 
	NUEVO_MONEDA varchar(10) NULL, 
	NUEVO_MONTO numeric(15,2) NULL,
	NUEVO_ESTADO varchar(1) NULL 
)


CREATE TABLE Clientes(
	CODIGO VARCHAR(10) NOT NULL PRIMARY KEY,
	RAZONSOCIAL VARCHAR(100) NOT NULL,
	RUC VARCHAR(12) NULL,
	DIRECCION VARCHAR(150) NULL
)

alter table RECLAMO_DETALLE add constraint pk_reclamo_detalle primary key (CODIGO,ITEM)
alter table RECLAMO_DETALLE_FACT add constraint pk_reclamo_detalle_fact primary key (CODIGO,ITEM,DOC_ITEM)

alter table RECLAMO_DETALLE_FACT add constraint fk_reclamo_detalle_fact foreign key (ITEM) references RECLAMO_DETALLE(ITEM)
alter table RECLAMO_DETALLE add constraint fk_reclamo_detalle foreign key (CODIGO) references RECLAMO(CODIGO)

INSERT Clientes VALUES ('398514','AGENCIA DE ADUANA PEGASO S.A.','20507783393','JR. INTISUYO NRO. 283 INT. 201 (2DO PSO OFICINA 201/CDRA 6 A')
INSERT Clientes VALUES ('401738','JEM LOGISTIC S.A.C','20519162718','AV. GARCILAZO DE LA VEGA NRO. 328 DPTO. 301 URB. LA COLONIAL')
INSERT Clientes VALUES ('313188','CORPORACION LA NOIRE S.A.C. AGENCIA DE ADUANA','20507783393','CALLE LAS LILAS 105 URB. JARDINES DE VIRU')
INSERT Clientes VALUES ('301463','PERUANA DE MOLDEADOS S.A.','20251995967','AV. ELMER FAUCETT N°3486 URB.BOCANEGRA')

INSERT RECLAMO VALUES ('2016-01-06 00:00:00.000','2016-01-21 00:00:00.000','398514','Devolucion total por sobrestadia, 20 DIAS LIBRES OTORGADOS','FINALIZADO','PRINCIPAL')
INSERT RECLAMO VALUES ('2016-01-12 00:00:00.000','2016-01-27 00:00:00.000','401738','Solicitud devolución parcial por concepto de GATE IN debido a que los contenedores fueron devueltos a IMUPESA     Referencias:  CNTR: FCIU2063970, HLXU3137621, TCLU2722356, TCLU2853973, TRLU8771613','FINALIZADO','PRINCIPAL')
INSERT RECLAMO VALUES ('2016-01-11 00:00:00.000','2016-01-26 00:00:00.000','313188','CAMBIO DE RAZON SOCIAL','FINALIZADO','PRINCIPAL')
INSERT RECLAMO VALUES ('2016-01-15 00:00:00.000','2016-01-30 00:00:00.000','301463','CAMBIO DE RAZON SOCIAL  F/GS. ADM 070-03662','FINALIZADO','PRINCIPAL')

INSERT RECLAMO_DETALLE VALUES (1,1,'FA',5,386554,'Dolares',1203.6,1203.6,0,'COMERCIAL','FINALIZADO')
INSERT RECLAMO_DETALLE VALUES (2,1,'FA',33,965,'Dolares',1974.14,1974.14,0,'FACTURACION','FINALIZADO')
INSERT RECLAMO_DETALLE VALUES (3,1,'FA',70,3088,'Dolares',451.94,451.94,0,'OPERACIONES','FINALIZADO')
INSERT RECLAMO_DETALLE VALUES (4,1,'FA',72,1044,'Dolares',158.79,158.79,0,'COMERCIAL','FINALIZADO')

INSERT RECLAMO_DETALLE_FACT VALUES (1,1,1,'NC',30,2156,'Dolares',1203.6,'F')
INSERT RECLAMO_DETALLE_FACT VALUES (2,1,1,'NC',30,1954,'Dolares',1974.14,'F')
INSERT RECLAMO_DETALLE_FACT VALUES (3,1,1,'NC',33,492,'Dolares',451.94,'F')
INSERT RECLAMO_DETALLE_FACT VALUES (3,1,2,'FA',74,2222,'Dolares',451.94,'F')
INSERT RECLAMO_DETALLE_FACT VALUES (4,1,1,'NC',33,472,'Dolares',158.79,'F')
INSERT RECLAMO_DETALLE_FACT VALUES (4,1,2,'FA',74,2231,'Dolares',158.79,'F')
